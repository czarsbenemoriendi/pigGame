"use strict";function _createForOfIteratorHelper(e,t){var r,n,o,a,c="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(c)return n=!(r=!0),{s:function(){c=c.call(e)},n:function(){var e=c.next();return r=e.done,e},e:function(e){n=!0,o=e},f:function(){try{r||null==c.return||c.return()}finally{if(n)throw o}}};if(Array.isArray(e)||(c=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return c&&(e=c),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var number,sum,_step,playboards={playboard:document.querySelector(".section__playboard"),topPart:document.querySelector(".top"),bottomPart:document.querySelector(".bottom")},btns={pauseBtn:document.querySelector(".pause"),holdBtn:document.querySelector(".hold"),rollBtn:document.querySelector(".roll"),returnToGameBtn:document.querySelectorAll(".return"),resetBtn:document.querySelectorAll(".reset")},numbersVar={topScrP1:document.querySelector(".section__number-info--first"),topScrP2:document.querySelector(".section__number-info--second"),curScrP1:document.querySelector(".section__current-points--first"),curScrP2:document.querySelector(".section__current-points--second")},popUps={shadow:document.querySelector(".shadow"),gameRules:document.querySelector(".main__popup--game-rules"),pauseGame:document.querySelector(".main__popup--pausePop"),winPop:document.querySelector(".main__popup--win")},dice=document.querySelectorAll(".dice"),winner=document.querySelector(".main__player"),shadow=popUps.shadow,gameRules=popUps.gameRules,pauseGame=popUps.pauseGame,winPop=popUps.winPop,playboard=playboards.playboard,desktop=playboards.desktop,topPart=playboards.topPart,bottomPart=playboards.bottomPart,pauseBtn=btns.pauseBtn,holdBtn=btns.holdBtn,rollBtn=btns.rollBtn,returnToGameBtn=btns.returnToGameBtn,resetBtn=btns.resetBtn,topScrP1=numbersVar.topScrP1,topScrP2=numbersVar.topScrP2,curScrP1=numbersVar.curScrP1,curScrP2=numbersVar.curScrP2,arr=[],finalScore=10,enterGame=function(){shadow.classList.add("hidden"),gameRules.classList.add("hidden"),pauseGame.classList.add("hidden"),topPart.classList.add("current-player"),winPop.classList.add("hidden"),bottomPart.classList.remove("current-player")},pauseGameFunction=function(){shadow.classList.remove("hidden"),pauseGame.classList.remove("hidden")},showWinPop=function(){shadow.classList.remove("hidden"),winPop.classList.remove("hidden")},resetGame=function(){topScrP1.textContent=0,topScrP2.textContent=0,curScrP1.textContent=0,curScrP2.textContent=0,arr=[],addHiddenDice(),enterGame()},changePlayer=function(){arr=[],topPart.classList.toggle("current-player"),bottomPart.classList.toggle("current-player")},randomNumber=function(){return number=Math.trunc(6*Math.random()+1)},holdFunction=function(){addHiddenDice();function e(e,t){e.textContent=Number(t.textContent)+Number(e.textContent),t.textContent=0,Number(e.textContent)>=finalScore&&(showWinPop(),10<=topScrP1.textContent?winner.textContent="First ":winner.textContent="Second ")}topPart.classList.contains("current-player")?e(topScrP1,curScrP1):e(topScrP2,curScrP2),changePlayer()},addHiddenDice=function(){dice.forEach(function(e){e.classList.add("hidden")})},appropriateDice=function(){function e(e){dice.forEach(function(e){e.classList.add("hidden")}),e.classList.remove("hidden")}switch(1===number||2===number||3===number||4===number||5===number||6===number){case 1===number:e(dice[0]);break;case 2===number:e(dice[1]);break;case 3===number:e(dice[2]);break;case 4===number:e(dice[3]);break;case 5===number:e(dice[4]);break;case 6===number:e(dice[5])}},rollDice=function(){randomNumber(),appropriateDice();function e(e){arr.push(number),sum=arr.reduce(function(e,t){return e+t},0),e.textContent=sum}function t(e){arr=[],e.textContent=0,setTimeout(function(){dice[0].classList.add("hidden")},500),changePlayer()}topPart.classList.contains("current-player")?(2<=number?e:t)(curScrP1):(2<=number?e:t)(curScrP2)},_iterator=_createForOfIteratorHelper(returnToGameBtn);try{for(_iterator.s();!(_step=_iterator.n()).done;){var btn=_step.value;btn.addEventListener("click",enterGame)}}catch(e){_iterator.e(e)}finally{_iterator.f()}var _step2,_iterator2=_createForOfIteratorHelper(resetBtn);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _btn=_step2.value;_btn.addEventListener("click",resetGame)}}catch(e){_iterator2.e(e)}finally{_iterator2.f()}holdBtn.addEventListener("click",holdFunction),rollBtn.addEventListener("click",rollDice),pauseBtn.addEventListener("click",pauseGameFunction);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luUG9wIiwic3VtIiwicGxheWJvYXJkcyIsInBsYXlib2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRvcFBhcnQiLCJib3R0b21QYXJ0IiwiYnRucyIsInBhdXNlQnRuIiwiaG9sZEJ0biIsInJvbGxCdG4iLCJyZXR1cm5Ub0dhbWVCdG4iLCJyZXNldEJ0biIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0b3BTY3JQMSIsInRvcFNjclAyIiwiY3VyU2NyUDEiLCJjdXJTY3JQMiIsIm51bWJlcnNWYXIiLCJzaGFkb3ciLCJnYW1lUnVsZXMiLCJwYXVzZUdhbWUiLCJwb3BVcHMiLCJkZXNrdG9wIiwid2lubmVyIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwic2hvd1dpblBvcCIsImVudGVyR2FtZSIsInRleHRDb250ZW50IiwiYXJyIiwicGF1c2VHYW1lRnVuY3Rpb24iLCJhZGRIaWRkZW5EaWNlIiwidG9nZ2xlIiwidHJ1bmMiLCJNYXRoIiwicmFuZG9tIiwiaG9sZEZ1bmN0aW9uIiwiY2FsY3VsYXRlVG9wU2NyIiwidG9wU2NyIiwiY3VyU2NyIiwiTnVtYmVyIiwiY2hhbmdlUGxheWVyIiwiZmluYWxTY29yZSIsInJhbmRvbU51bWJlciIsImNvbnRhaW5zIiwiZGljZSIsImVsIiwiYWRkIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJudW1iZXIiLCJhcHByb3ByaWF0ZURpY2UiLCJyb2xsRGljZSIsImNhbGN1bGF0ZVNjciIsInJlZHVjZSIsImEiLCJiIiwic2V0VGltZW91dCIsImRyYXduT25lIiwiX2l0ZXJhdG9yIiwicyIsIl9zdGVwIiwibiIsImRvbmUiLCJidG4iLCJ2YWx1ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaXRlcmF0b3IyIiwiX3N0ZXAyIiwicmVzZXRHYW1lIl0sIm1hcHBpbmdzIjoiQUFBQSxhLHVuQ0FFQSxJQTZCc0NBLE9BQXRDQyxJLE1BN0JNQyxXQUFhLENBQ2xCQyxVQUFXQyxTQUFTQyxjQUFj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LEVBY0RqQixFQUFPWCxZQUFjN0IsR0FDckIsQ0FiQ2dDLFNBQUFBLEVBQUFBLEdBZURGLElBZEMsR0F6QkZVLEVBQUFYLFlBQUEsRUFQRDZCLFdBQUEsV0FpREdaLEtBQUssR0FBR3JCLFVBQVV1QixJQUFJLFFBQXRCLENBYkgsRUFBTUssR0FwQ04sRUFxQ0NULGFBQVksQ0FDWlEsQ0FFQS9DLFFBQU1pRCxVQUFlVCxTQUFmUyxnQkFBTixHQUNVSCxHQUFUckIsT0FlQ3dCLEVBRUFLLEdBaEJTSixRQUFBQSxHQW1CSSxHQUFWSixPQWhCTEcsRUFtQkVLLEdBbkJZMUMsUUFBQSxDQXNCZCxFLHFDQXRCQU4sZSxNQXdCRCxJQUFBaUQsVUFBQUMsRUFBQSxFQUFBLEVBQUFDLE1BQUFGLFVBQUFHLEVBQUEsR0FBQUMsTUF4QkMsQ0FBQSxJQUFBQyxJQUFBSCxNQUFBSSxNQXlCQUQsSUFBSUUsaUJBQWlCLFFBQVN2QyxTQUE5QixDQUNBLEMsZ0dBaEJlaEIsUSxNQWlCaEIsSUFBQXdELFdBQUFQLEVBQUEsRUFBQSxFQUFBUSxPQUFBRCxXQUFBTCxFQUFBLEdBQUFDLE1BakJtQixDQUFBLElBQWJiLEtBQWFrQixPQUFBSCxNQWtCbEJELEtBQUlFLGlCQWpCV25ELFFBQWJzRCxTQWlCRixDQUNBLEMsaURBRUQ3RCxRQWpCRzBELGlCQUFBLFFBQUE5QixZQWlCSCxFQUNBM0IsUUF2QkN5RCxpQkFNTyxRQUFBZCxRQWlCUixFQUNBN0MsU0FqQk0yQyxpQkFBYSxRQUFBcEIsaUJBaUJuQiIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcGxheWJvYXJkcyA9IHtcblx0cGxheWJvYXJkOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbl9fcGxheWJvYXJkJyksXG5cdHRvcFBhcnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3AnKSxcblx0Ym90dG9tUGFydDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvdHRvbScpLFxufTtcbmNvbnN0IGJ0bnMgPSB7XG5cdHBhdXNlQnRuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGF1c2UnKSxcblx0aG9sZEJ0bjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhvbGQnKSxcblx0cm9sbEJ0bjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJvbGwnKSxcblx0cmV0dXJuVG9HYW1lQnRuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmV0dXJuJyksXG5cdHJlc2V0QnRuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmVzZXQnKSxcbn07XG5jb25zdCBudW1iZXJzVmFyID0ge1xuXHR0b3BTY3JQMTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb25fX251bWJlci1pbmZvLS1maXJzdCcpLFxuXHR0b3BTY3JQMjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb25fX251bWJlci1pbmZvLS1zZWNvbmQnKSxcblx0Y3VyU2NyUDE6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uX19jdXJyZW50LXBvaW50cy0tZmlyc3QnKSxcblx0Y3VyU2NyUDI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uX19jdXJyZW50LXBvaW50cy0tc2Vjb25kJyksXG59O1xuY29uc3QgcG9wVXBzID0ge1xuXHRzaGFkb3c6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaGFkb3cnKSxcblx0Z2FtZVJ1bGVzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbl9fcG9wdXAtLWdhbWUtcnVsZXMnKSxcblx0cGF1c2VHYW1lOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbl9fcG9wdXAtLXBhdXNlUG9wJyksXG5cdHdpblBvcDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW5fX3BvcHVwLS13aW4nKSxcblx0XG59O1xuXG5jb25zdCBkaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpY2UnKTtcbmNvbnN0IHdpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluX19wbGF5ZXInKTtcblxuY29uc3QgeyBzaGFkb3csIGdhbWVSdWxlcywgcGF1c2VHYW1lLCB3aW5Qb3AgfSA9IHBvcFVwcztcbmNvbnN0IHsgcGxheWJvYXJkLCBkZXNrdG9wLCB0b3BQYXJ0LCBib3R0b21QYXJ0IH0gPSBwbGF5Ym9hcmRzO1xuY29uc3QgeyBwYXVzZUJ0biwgaG9sZEJ0biwgcm9sbEJ0biwgcmV0dXJuVG9HYW1lQnRuLCByZXNldEJ0biB9ID0gYnRucztcbmNvbnN0IHsgdG9wU2NyUDEsIHRvcFNjclAyLCBjdXJTY3JQMSwgY3VyU2NyUDIgfSA9IG51bWJlcnNWYXI7XG5cbmxldCBhcnIgPSBbXTtcbmxldCBudW1iZXIsIHN1bTtcbmxldCBmaW5hbFNjb3JlID0gMTA7XG5cbmNvbnN0IGVudGVyR2FtZSA9ICgpID0+IHtcblx0c2hhZG93LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuXHRnYW1lUnVsZXMuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cdHBhdXNlR2FtZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblx0dG9wUGFydC5jbGFzc0xpc3QuYWRkKCdjdXJyZW50LXBsYXllcicpO1xuXHR3aW5Qb3AuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cdGJvdHRvbVBhcnQuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudC1wbGF5ZXInKTtcbn07XG5cbmNvbnN0IHBhdXNlR2FtZUZ1bmN0aW9uID0gKCkgPT4ge1xuXHRzaGFkb3cuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG5cdHBhdXNlR2FtZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbn07XG5cbmNvbnN0IHNob3dXaW5Qb3AgPSAoKSA9PiB7XG5cdHNoYWRvdy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcblx0d2luUG9wLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xufTtcblxuY29uc3QgcmVzZXRHYW1lID0gKCkgPT4ge1xuXHR0b3BTY3JQMS50ZXh0Q29udGVudCA9IDA7XG5cdHRvcFNjclAyLnRleHRDb250ZW50ID0gMDtcblx0Y3VyU2NyUDEudGV4dENvbnRlbnQgPSAwO1xuXHRjdXJTY3JQMi50ZXh0Q29udGVudCA9IDA7XG5cdGFyciA9IFtdO1xuXHRhZGRIaWRkZW5EaWNlKCk7XG5cdGVudGVyR2FtZSgpO1xufTtcblxuY29uc3QgY2hhbmdlUGxheWVyID0gKCkgPT4ge1xuXHRhcnIgPSBbXTtcblx0dG9wUGFydC5jbGFzc0xpc3QudG9nZ2xlKCdjdXJyZW50LXBsYXllcicpO1xuXHRib3R0b21QYXJ0LmNsYXNzTGlzdC50b2dnbGUoJ2N1cnJlbnQtcGxheWVyJyk7XG59O1xuXG5jb25zdCByYW5kb21OdW1iZXIgPSAoKSA9PiB7XG5cdHJldHVybiAobnVtYmVyID0gTWF0aC50cnVuYyhNYXRoLnJhbmRvbSgpICogNiArIDEpKTtcbn07XG5cbmNvbnN0IGhvbGRGdW5jdGlvbiA9ICgpID0+IHtcblx0YWRkSGlkZGVuRGljZSgpO1xuXG5cdGNvbnN0IGNhbGN1bGF0ZVRvcFNjciA9ICh0b3BTY3IsIGN1clNjcikgPT4ge1xuXHRcdHRvcFNjci50ZXh0Q29udGVudCA9XG5cdFx0XHROdW1iZXIoY3VyU2NyLnRleHRDb250ZW50KSArIE51bWJlcih0b3BTY3IudGV4dENvbnRlbnQpO1xuXHRcdGN1clNjci50ZXh0Q29udGVudCA9IDA7XG5cdFx0aWYgKE51bWJlcih0b3BTY3IudGV4dENvbnRlbnQpID49IGZpbmFsU2NvcmUpIHtcblx0XHRcdHNob3dXaW5Qb3AoKTtcblx0XHRcdHRvcFNjclAxLnRleHRDb250ZW50ID49IDEwXG5cdFx0XHRcdD8gKHdpbm5lci50ZXh0Q29udGVudCA9ICdGaXJzdCAnKVxuXHRcdFx0XHQ6ICh3aW5uZXIudGV4dENvbnRlbnQgPSAnU2Vjb25kICcpO1xuXHRcdH1cblx0fTtcblxuXHRpZiAodG9wUGFydC5jbGFzc0xpc3QuY29udGFpbnMoJ2N1cnJlbnQtcGxheWVyJykpIHtcblx0XHRjYWxjdWxhdGVUb3BTY3IodG9wU2NyUDEsIGN1clNjclAxKTtcblx0fSBlbHNlIHtcblx0XHRjYWxjdWxhdGVUb3BTY3IodG9wU2NyUDIsIGN1clNjclAyKTtcblx0fVxuXHRjaGFuZ2VQbGF5ZXIoKTtcbn07XG5cbmNvbnN0IGFkZEhpZGRlbkRpY2UgPSAoKSA9PiB7XG5cdGRpY2UuZm9yRWFjaChlbCA9PiB7XG5cdFx0ZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cdH0pO1xufTtcbmNvbnN0IGFwcHJvcHJpYXRlRGljZSA9ICgpID0+IHtcblx0Y29uc3QgYWRkSGlkZGVuRGljZSA9IGVsZW1lbnQgPT4ge1xuXHRcdGRpY2UuZm9yRWFjaChlbCA9PiB7XG5cdFx0XHRlbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblx0XHR9KTtcblx0XHRlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuXHR9O1xuXHRzd2l0Y2ggKFxuXHRcdG51bWJlciA9PT0gMSB8fFxuXHRcdG51bWJlciA9PT0gMiB8fFxuXHRcdG51bWJlciA9PT0gMyB8fFxuXHRcdG51bWJlciA9PT0gNCB8fFxuXHRcdG51bWJlciA9PT0gNSB8fFxuXHRcdG51bWJlciA9PT0gNlxuXHQpIHtcblx0XHRjYXNlIG51bWJlciA9PT0gMTpcblx0XHRcdGFkZEhpZGRlbkRpY2UoZGljZVswXSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIG51bWJlciA9PT0gMjpcblx0XHRcdGFkZEhpZGRlbkRpY2UoZGljZVsxXSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIG51bWJlciA9PT0gMzpcblx0XHRcdGFkZEhpZGRlbkRpY2UoZGljZVsyXSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIG51bWJlciA9PT0gNDpcblx0XHRcdGFkZEhpZGRlbkRpY2UoZGljZVszXSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIG51bWJlciA9PT0gNTpcblx0XHRcdGFkZEhpZGRlbkRpY2UoZGljZVs0XSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIG51bWJlciA9PT0gNjpcblx0XHRcdGFkZEhpZGRlbkRpY2UoZGljZVs1XSk7XG5cdFx0XHRicmVhaztcblx0fVxufTtcblxuY29uc3Qgcm9sbERpY2UgPSAoKSA9PiB7XG5cdHJhbmRvbU51bWJlcigpO1xuXHRhcHByb3ByaWF0ZURpY2UoKTtcblxuXHRjb25zdCBjYWxjdWxhdGVTY3IgPSBjdXJTY3IgPT4ge1xuXHRcdGFyci5wdXNoKG51bWJlcik7XG5cdFx0c3VtID0gYXJyLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApO1xuXHRcdGN1clNjci50ZXh0Q29udGVudCA9IHN1bTtcblx0fTtcblx0Y29uc3QgZHJhd25PbmUgPSBjdXJTY3IgPT4ge1xuXHRcdGFyciA9IFtdO1xuXHRcdGN1clNjci50ZXh0Q29udGVudCA9IDA7XG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRkaWNlWzBdLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuXHRcdH0sIDUwMCk7XG5cdFx0Y2hhbmdlUGxheWVyKCk7XG5cdH07XG5cblx0aWYgKHRvcFBhcnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjdXJyZW50LXBsYXllcicpKSB7XG5cdFx0aWYgKG51bWJlciA+PSAyKSB7XG5cdFx0XHRjYWxjdWxhdGVTY3IoY3VyU2NyUDEpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkcmF3bk9uZShjdXJTY3JQMSk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGlmIChudW1iZXIgPj0gMikge1xuXHRcdFx0Y2FsY3VsYXRlU2NyKGN1clNjclAyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZHJhd25PbmUoY3VyU2NyUDIpO1xuXHRcdH1cblx0fVxufTtcblxuZm9yIChjb25zdCBidG4gb2YgcmV0dXJuVG9HYW1lQnRuKSB7XG5cdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGVudGVyR2FtZSk7XG59XG5mb3IgKGNvbnN0IGJ0biBvZiByZXNldEJ0bikge1xuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZXNldEdhbWUpO1xufVxuXG5ob2xkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaG9sZEZ1bmN0aW9uKTtcbnJvbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb2xsRGljZSk7XG5wYXVzZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBhdXNlR2FtZUZ1bmN0aW9uKTtcbiJdfQ==
