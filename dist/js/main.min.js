"use strict";function _createForOfIteratorHelper(t,e){var r,n,o,a,c="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(c)return n=!(r=!0),{s:function(){c=c.call(t)},n:function(){var t=c.next();return r=t.done,t},e:function(t){n=!0,o=t},f:function(){try{r||null==c.return||c.return()}finally{if(n)throw o}}};if(Array.isArray(t)||(c=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length)return c&&(t=c),a=0,{s:e=function(){},n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var r;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var number,sum,_step,playboards={playboard:document.querySelector(".section__playboard"),topPart:document.querySelector(".top"),bottomPart:document.querySelector(".bottom")},btns={pauseBtn:document.querySelector(".pause"),holdBtn:document.querySelector(".hold"),rollBtn:document.querySelector(".roll"),returnToGameBtn:document.querySelectorAll(".return"),resetBtn:document.querySelectorAll(".reset")},numbersVar={topScrP1:document.querySelector(".section__number-info--first"),topScrP2:document.querySelector(".section__number-info--second"),curScrP1:document.querySelector(".section__current-points--first"),curScrP2:document.querySelector(".section__current-points--second")},popUps={shadow:document.querySelector(".shadow"),gameRules:document.querySelector(".main__popup--game-rules"),pauseGame:document.querySelector(".main__popup--pausePop"),winPop:document.querySelector(".main__popup--win")},winner=document.querySelector(".main__player"),shadow=popUps.shadow,gameRules=popUps.gameRules,pauseGame=popUps.pauseGame,winPop=popUps.winPop,playboard=playboards.playboard,desktop=playboards.desktop,topPart=playboards.topPart,bottomPart=playboards.bottomPart,pauseBtn=btns.pauseBtn,holdBtn=btns.holdBtn,rollBtn=btns.rollBtn,returnToGameBtn=btns.returnToGameBtn,resetBtn=btns.resetBtn,topScrP1=numbersVar.topScrP1,topScrP2=numbersVar.topScrP2,curScrP1=numbersVar.curScrP1,curScrP2=numbersVar.curScrP2,arr=[],finalScore=10,enterGame=function(){shadow.classList.add("hidden"),gameRules.classList.add("hidden"),pauseGame.classList.add("hidden"),topPart.classList.add("current-player"),winPop.classList.add("hidden"),bottomPart.classList.remove("current-player")},pauseGameFunction=function(){shadow.classList.remove("hidden"),pauseGame.classList.remove("hidden")},showWinPop=function(){shadow.classList.remove("hidden"),winPop.classList.remove("hidden")},resetGame=function(){topScrP1.textContent=0,topScrP2.textContent=0,curScrP1.textContent=0,curScrP2.textContent=0,arr=[],enterGame()},changePlayer=function(){arr=[],topPart.classList.toggle("current-player"),bottomPart.classList.toggle("current-player")},randomNumber=function(){return number=Math.trunc(6*Math.random()+1)},holdFunction=function(){topPart.classList.contains("current-player")?(topScrP1.textContent=Number(curScrP1.textContent)+Number(topScrP1.textContent),curScrP1.textContent=0,Number(topScrP1.textContent)>=finalScore&&(showWinPop(),winner.textContent="First ")):(topScrP2.textContent=Number(curScrP2.textContent)+Number(topScrP2.textContent),curScrP2.textContent=0,Number(topScrP2.textContent)>=finalScore&&(showWinPop(),winner.textContent="Second ")),changePlayer()},rollDice=function(){randomNumber(),console.log(number),topPart.classList.contains("current-player")?2<=number?(console.log(arr),arr.push(number),sum=arr.reduce(function(t,e){return t+e},0),curScrP1.textContent=sum):(arr=[],curScrP1.textContent=0,changePlayer()):2<=number?(arr.push(number),sum=arr.reduce(function(t,e){return t+e},0),curScrP2.textContent=sum):(arr=[],curScrP2.textContent=0,changePlayer())},_iterator=_createForOfIteratorHelper(returnToGameBtn);try{for(_iterator.s();!(_step=_iterator.n()).done;){var btn=_step.value;btn.addEventListener("click",enterGame)}}catch(t){_iterator.e(t)}finally{_iterator.f()}var _step2,_iterator2=_createForOfIteratorHelper(resetBtn);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _btn=_step2.value;_btn.addEventListener("click",resetGame)}}catch(t){_iterator2.e(t)}finally{_iterator2.f()}holdBtn.addEventListener("click",holdFunction),rollBtn.addEventListener("click",rollDice),pauseBtn.addEventListener("click",pauseGameFunction);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZ2FtZVJ1bGVzIiwicGxheWJvYXJkcyIsInBsYXlib2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRvcFBhcnQiLCJib3R0b21QYXJ0IiwiYnRucyIsInBhdXNlQnRuIiwiaG9sZEJ0biIsInJvbGxCdG4iLCJyZXR1cm5Ub0dhbWVCdG4iLCJyZXNldEJ0biIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0b3BTY3JQMSIsInRvcFNjclAyIiwiY3VyU2NyUDEiLCJjdXJTY3JQMiIsIm51bWJlcnNWYXIiLCJzaGFkb3ciLCJwYXVzZUdhbWUiLCJ3aW5Qb3AiLCJwb3BVcHMiLCJkZXNrdG9wIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwibnVtYmVyIiwicmVzZXRHYW1lIiwiZW50ZXJHYW1lIiwiYXJyIiwiY2hhbmdlUGxheWVyIiwicGF1c2VHYW1lRnVuY3Rpb24iLCJyYW5kb21OdW1iZXIiLCJzaG93V2luUG9wIiwiTWF0aCIsInRydW5jIiwiY29udGFpbnMiLCJ0ZXh0Q29udGVudCIsIk51bWJlciIsImZpbmFsU2NvcmUiLCJ0b2dnbGUiLCJyb2xsRGljZSIsImhvbGRGdW5jdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJwdXNoIiwic3VtIiwiYSIsImIiLCJ3aW5uZXIiLCJyZWR1Y2UiLCJfaXRlcmF0b3IiLCJzIiwiX3N0ZXAiLCJuIiwiZG9uZSIsInZhbHVlIiwiYnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9pdGVyYXRvcjIiLCJfc3RlcDIiXSwibWFwcGluZ3MiOiJBQUFBLGEsdW5DQUVBLElBMEJnQkEsT0FBQUEsSSxNQTFCVkMsV0FBYSxDQUNsQkMsVUFBV0MsU0FBU0MsY0FBYyxxQkFBdkIsRUFDWEMsUUFBU0YsU0FBU0MsY0FBYyxNQUF2QixFQUNURSxXQUFZSCxTQUFTQyxjQUFjLFNBQXZCLENBSE0sRUFLYkcsS0FBTyxDQUxiQyxTQUFNUCxTQUFhRyxjQUFBLFFBQWJILEVBT0xRLFFBTkFQLFNBQVdDLGNBQVNDLE9BQXBCRixFQU9BUSxRQU5PUCxTQUFVQyxjQUFSLE9BQUYsRUFPUE8sZ0JBTllSLFNBQVNDLGlCQUFjLFNBQXZCRCxFQUhiUyxTQUFBVCxTQUFBVSxpQkFBQSxRQUFBLENBS2EsRUFDWkwsV0FBVUwsQ0FPVlcsU0FOU1gsU0FBU0MsY0FBYyw4QkFBdkJELEVBT1RZLFNBTlNaLFNBQVNDLGNBQWMsK0JBQXZCRCxFQU9UYSxTQU5BTCxTQUFpQlIsY0FBU1UsaUNBQTFCRixFQU9BTSxTQU5RZCxTQUFVQyxjQUFDUyxrQ0FBWCxDQUpFVixFQU1MZSxPQUFVLENBT2ZDLE9BTkFMLFNBQVVYLGNBQVNDLFNBQW5CVSxFQU9BZCxVQU5VRyxTQUFTQyxjQUFjLDBCQUF2QkQsRUFPVmlCLFVBTlVqQixTQUFTQyxjQUFjLHdCQUF2QkQsRUFPVmtCLE9BTkFKLFNBQVVkLGNBQVNDLG1CQUFuQmEsQ0FKZSxFQU9mRSxPQUFRaEIsU0FBU0MsY0FBYyxlQUF2QkQsRUFDUkgsT0FBa0NzQixPQUFsQ3RCLE9BQVdHLFVBQXVCbUIsT0FBdkJuQixVQUFTQyxVQUFja0IsT0FBZGxCLFVBQWNpQixPQUFBQyxPQUFBRCxPQUNsQ0QsVUFBa0NuQixXQUFsQ21CLFVBQVdqQixRQUF1QkYsV0FBdkJFLFFBQVNDLFFBQWNILFdBQWRHLFFBQWNFLFdBQUFMLFdBQUFLLFdBQzVCRSxTQUFFRCxLQUFGQyxTQUFVQyxRQUFSRixLQUFRRSxRQUFDTCxRQUFURyxLQUFTSCxRQUFjTyxnQkFBdkJKLEtBQXVCSSxnQkFBdkJDLFNBQUFMLEtBQUFLLFNBSlRFLFNBQUFJLFdBQUFKLFNBQUFDLFNBQUFHLFdBQUFILFNBQUFDLFNBQUFFLFdBQUFGLFNBQUFDLFNBQUFDLFdBQUFELFNBUVFFLElBQVIsR0FBMkJDLFdBQXNCRSxHQUN6Q3BCLFVBQTRDRCxXQUFwRGtCLE9BQW1CSSxVQUFpQ3RCLElBQUFBLFFBQXBELEVBQUFELFVBQUF3QixVQUFvRHZCLElBQXhCSSxRQUE1QixFQUFBZSxVQUFxQ2QsVUFBZUwsSUFBQUEsUUFBcEQsRUFDQUksUUFBUUcsVUFBUmlCLElBQVFqQixnQkFBUixFQUFBYSxPQUFrQlosVUFBbEJnQixJQUFrQmhCLFFBQWxCLEVBQUFILFdBQUFrQixVQUEyQmQsT0FBM0IsZ0JBQUEsQ0FBQSxFQUFxREUsa0JBQUFBLFdBQ3JETyxPQUFRTCxVQUEyQ0ksT0FBbkQsUUFBQSxFQUFBRSxVQUFrQkwsVUFBaUNHLE9BQWpDSCxRQUFsQixDQUFBLEVBQXNDRSxXQUFhQyxXQUVuREMsT0FBT0ssVUFBUEUsT0FBQSxRQUFBLEVBQ0FMLE9BQUlNLFVBQUpELE9BQUEsUUFBQSxDQUNBLEVBa0JNRSxVQUFZLFdBaEJsQmQsU0FBTWUsWUFBWSxFQWtCakJkLFNBakJPUyxZQUFjLEVBa0JyQlIsU0FqQkFoQixZQUFvQnlCLEVBa0JwQlIsU0FqQkFHLFlBQW9CSyxFQWtCcEJLLElBakJBekIsR0FtQkF3QixVQWpCQXZCLENBTkQsRUF5Qk15QixhQUFlLFdBakJyQkQsSUFBTUUsR0FtQkwzQixRQWxCT21CLFVBQVVFLE9BQU8sZ0JBa0J4QixFQUNBcEIsV0FsQlVrQixVQUFVRSxPQUFPLGdCQWtCM0IsQ0FwQkQsRUFzQk1PLGFBQWUsV0FsQnJCLE9BQU1DLE9BQWFDLEtBQUFDLE1BQU0sRUFBbkJGLEtBQUFBLE9BQUFBLEVBQW1CLENBQU4sQ0FvQmxCLEVBbEJBYixhQUFpQkssV0FGbEJyQixRQUFBbUIsVUFBQWEsU0FBQSxnQkFBQSxHQXVCRXZCLFNBQVN3QixZQW5CWEMsT0FBTVgsU0FBWVUsV0FBWlYsRUFBWVcsT0FBTXpCLFNBQUF3QixXQUFBLEVBQ3ZCeEIsU0FBU3dCLFlBQWMsRUFDdkJ2QixPQUFTdUIsU0FBVEEsV0FBU0EsR0FBVEUsYUFDQXhCLFdBQVNzQixFQUNUckIsT0FBUXFCLFlBQVIsWUFKRHZCLFNBQUF1QixZQTRCR0MsT0FBT3RCLFNBQVNxQixXQUFWLEVBQXlCQyxPQUFPeEIsU0FBU3VCLFdBQVYsRUFuQnhDckIsU0FBTWMsWUFBZSxFQUNqQlEsT0FBSHhCLFNBQUF1QixXQUFBLEdBQUFFLGFBQ0FuQyxXQUFRbUIsRUFDUmxCLE9BQUFBLFlBQXFCbUMsWUFFdEJWLGFBQU1FLENBc0JMLEVBRUtTLFNBQVcsV0FyQmpCVCxhQUFNVSxFQXVCTEMsUUF0Qkl2QyxJQUFPc0IsTUFzQlgsRUFyQkNiLFFBQVN3QixVQUFBQSxTQUNSQyxnQkFERHpCLEVBRVN3QixHQUFUdEIsUUFzQkM0QixRQUFRQyxJQUFJZixHQUFaLEVBQ0FBLElBdEJEZ0IsS0FBSVAsTUFzQkgsRUFDQVEsSUF0QkFiLElBQUFBLE9BQVUsU0FBQWMsRUFBQUMsR0FBQSxPQUFBRCxFQUFBQyxDQUFBLEVBQUEsQ0FBVmYsRUF1QkFsQixTQXRCTXNCLFlBQU5TLE1BTkZqQixJQVFPLEdBdUJMZCxTQXRCT3NCLFlBQVIsRUF1QkNQLGFBckJRTyxHQUVFLEdBQVZKLFFBdUJBSixJQXRCQW9CLEtBQU12QixNQXNCTixFQUNBb0IsSUF0QkFqQixJQUFBcUIsT0FBQSxTQUFBSCxFQUFBQyxHQUFBLE9BQUFELEVBQUFDLENBQUEsRUFBQSxDQUFBLEVBQ0RoQyxTQUFBcUIsWUFBQVMsTUFDRGhCLElBQUFBLEdBbEJEZCxTQUFBcUIsWUFBQSxFQTJDR1AsYUFBWSxFQUdkLEUscUNBdEJZUCxlLE1Bd0JiLElBQUE0QixVQUFBQyxFQUFBLEVBQUEsRUFBQUMsTUFBQUYsVUFBQUcsRUFBQSxHQUFBQyxNQXhCZ0MsQ0FBQSxJQUEzQm5ELElBQTJCaUQsTUFBQUcsTUF5Qi9CQyxJQXhCQ0MsaUJBQWlCLFFBQUE5QixTQXdCbEIsQ0FDQSxDLGdHQXZCV0YsUSxNQXdCWixJQUFBaUMsV0FBQVAsRUFBQSxFQUFBLEVBQUFRLE9BQUFELFdBQUFMLEVBQUEsR0FBQUMsTUF4QkcsQ0FBQSxJQUFJVixLQUFKZSxPQUFBSixNQXlCRkMsS0FBSUMsaUJBeEJJLFFBQVcvQixTQXdCbkIsQ0FDQSxDLGlEQUVEbkIsUUExQkdPLGlCQUFTc0IsUUFBVEssWUEwQkgsRUFDQWpDLFFBL0JFaUQsaUJBS08sUUFBQWpCLFFBMEJULEVBQ0FsQyxTQTFCTW1ELGlCQUFILFFBQUEzQixpQkEwQkgiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHBsYXlib2FyZHMgPSB7XG5cdHBsYXlib2FyZDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb25fX3BsYXlib2FyZCcpLFxuXHR0b3BQYXJ0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9wJyksXG5cdGJvdHRvbVBhcnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ib3R0b20nKSxcbn07XG5jb25zdCBidG5zID0ge1xuXHRwYXVzZUJ0bjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhdXNlJyksXG5cdGhvbGRCdG46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob2xkJyksXG5cdHJvbGxCdG46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yb2xsJyksXG5cdHJldHVyblRvR2FtZUJ0bjogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJldHVybicpLFxuXHRyZXNldEJ0bjogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJlc2V0JyksXG59O1xuY29uc3QgbnVtYmVyc1ZhciA9IHtcblx0dG9wU2NyUDE6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uX19udW1iZXItaW5mby0tZmlyc3QnKSxcblx0dG9wU2NyUDI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uX19udW1iZXItaW5mby0tc2Vjb25kJyksXG5cdGN1clNjclAxOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbl9fY3VycmVudC1wb2ludHMtLWZpcnN0JyksXG5cdGN1clNjclAyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbl9fY3VycmVudC1wb2ludHMtLXNlY29uZCcpLFxufTtcbmNvbnN0IHBvcFVwcyA9IHtcblx0c2hhZG93OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2hhZG93JyksXG5cdGdhbWVSdWxlczogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW5fX3BvcHVwLS1nYW1lLXJ1bGVzJyksXG5cdHBhdXNlR2FtZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW5fX3BvcHVwLS1wYXVzZVBvcCcpLFxuXHR3aW5Qb3A6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluX19wb3B1cC0td2luJyksXG59O1xuXG5jb25zdCB3aW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbl9fcGxheWVyJyk7XG5jb25zdCB7IHNoYWRvdywgZ2FtZVJ1bGVzLCBwYXVzZUdhbWUsIHdpblBvcCB9ID0gcG9wVXBzO1xuY29uc3QgeyBwbGF5Ym9hcmQsIGRlc2t0b3AsIHRvcFBhcnQsIGJvdHRvbVBhcnQgfSA9IHBsYXlib2FyZHM7XG5jb25zdCB7IHBhdXNlQnRuLCBob2xkQnRuLCByb2xsQnRuLCByZXR1cm5Ub0dhbWVCdG4sIHJlc2V0QnRuIH0gPSBidG5zO1xuY29uc3QgeyB0b3BTY3JQMSwgdG9wU2NyUDIsIGN1clNjclAxLCBjdXJTY3JQMiB9ID0gbnVtYmVyc1ZhcjtcblxubGV0IGFyciA9IFtdO1xubGV0IG51bWJlciwgc3VtO1xubGV0IGZpbmFsU2NvcmUgPSAxMDtcblxuY29uc3QgZW50ZXJHYW1lID0gKCkgPT4ge1xuXHRzaGFkb3cuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cdGdhbWVSdWxlcy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblx0cGF1c2VHYW1lLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuXHR0b3BQYXJ0LmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQtcGxheWVyJyk7XG5cdHdpblBvcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblx0Ym90dG9tUGFydC5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50LXBsYXllcicpO1xufTtcbmNvbnN0IHBhdXNlR2FtZUZ1bmN0aW9uID0gKCkgPT4ge1xuXHRzaGFkb3cuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG5cdHBhdXNlR2FtZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbn07XG5jb25zdCBzaG93V2luUG9wID0gKCkgPT4ge1xuXHRzaGFkb3cuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG5cdHdpblBvcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbn07XG5jb25zdCByZXNldEdhbWUgPSAoKSA9PiB7XG5cdHRvcFNjclAxLnRleHRDb250ZW50ID0gMDtcblx0dG9wU2NyUDIudGV4dENvbnRlbnQgPSAwO1xuXHRjdXJTY3JQMS50ZXh0Q29udGVudCA9IDA7XG5cdGN1clNjclAyLnRleHRDb250ZW50ID0gMDtcblx0YXJyID0gW107XG5cblx0ZW50ZXJHYW1lKCk7XG59O1xuY29uc3QgY2hhbmdlUGxheWVyID0gKCkgPT4ge1xuXHRhcnIgPSBbXTtcblx0dG9wUGFydC5jbGFzc0xpc3QudG9nZ2xlKCdjdXJyZW50LXBsYXllcicpO1xuXHRib3R0b21QYXJ0LmNsYXNzTGlzdC50b2dnbGUoJ2N1cnJlbnQtcGxheWVyJyk7XG59O1xuY29uc3QgcmFuZG9tTnVtYmVyID0gKCkgPT4ge1xuXHRyZXR1cm4gKG51bWJlciA9IE1hdGgudHJ1bmMoTWF0aC5yYW5kb20oKSAqIDYgKyAxKSk7XG59O1xuY29uc3QgaG9sZEZ1bmN0aW9uID0gKCkgPT4ge1xuXHRpZiAodG9wUGFydC5jbGFzc0xpc3QuY29udGFpbnMoJ2N1cnJlbnQtcGxheWVyJykpIHtcblx0XHR0b3BTY3JQMS50ZXh0Q29udGVudCA9XG5cdFx0XHROdW1iZXIoY3VyU2NyUDEudGV4dENvbnRlbnQpICsgTnVtYmVyKHRvcFNjclAxLnRleHRDb250ZW50KTtcblx0XHRjdXJTY3JQMS50ZXh0Q29udGVudCA9IDA7XG5cdFx0aWYgKE51bWJlcih0b3BTY3JQMS50ZXh0Q29udGVudCkgPj0gZmluYWxTY29yZSkge1xuXHRcdFx0c2hvd1dpblBvcCgpO1xuXHRcdFx0d2lubmVyLnRleHRDb250ZW50ID0gJ0ZpcnN0ICc7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHRvcFNjclAyLnRleHRDb250ZW50ID1cblx0XHRcdE51bWJlcihjdXJTY3JQMi50ZXh0Q29udGVudCkgKyBOdW1iZXIodG9wU2NyUDIudGV4dENvbnRlbnQpO1xuXHRcdGN1clNjclAyLnRleHRDb250ZW50ID0gMDtcblx0XHRpZiAoTnVtYmVyKHRvcFNjclAyLnRleHRDb250ZW50KSA+PSBmaW5hbFNjb3JlKSB7XG5cdFx0XHRzaG93V2luUG9wKCk7XG5cdFx0XHR3aW5uZXIudGV4dENvbnRlbnQgPSAnU2Vjb25kICc7XG5cdFx0fVxuXHR9XG5cdGNoYW5nZVBsYXllcigpO1xufTtcblxuY29uc3Qgcm9sbERpY2UgPSAoKSA9PiB7XG5cdHJhbmRvbU51bWJlcigpO1xuXHRjb25zb2xlLmxvZyhudW1iZXIpO1xuXHRpZiAodG9wUGFydC5jbGFzc0xpc3QuY29udGFpbnMoJ2N1cnJlbnQtcGxheWVyJykpIHtcblx0XHRpZiAobnVtYmVyID49IDIpIHtcblx0XHRcdGNvbnNvbGUubG9nKGFycik7XG5cdFx0XHRhcnIucHVzaChudW1iZXIpO1xuXHRcdFx0c3VtID0gYXJyLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApO1xuXHRcdFx0Y3VyU2NyUDEudGV4dENvbnRlbnQgPSBzdW07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFyciA9IFtdO1xuXHRcdFx0Y3VyU2NyUDEudGV4dENvbnRlbnQgPSAwO1xuXHRcdFx0Y2hhbmdlUGxheWVyKCk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGlmIChudW1iZXIgPj0gMikge1xuXHRcdFx0YXJyLnB1c2gobnVtYmVyKTtcblx0XHRcdHN1bSA9IGFyci5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiLCAwKTtcblx0XHRcdGN1clNjclAyLnRleHRDb250ZW50ID0gc3VtO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhcnIgPSBbXTtcblx0XHRcdGN1clNjclAyLnRleHRDb250ZW50ID0gMDtcblx0XHRcdGNoYW5nZVBsYXllcigpO1xuXHRcdH1cblx0fVxufTtcblxuZm9yIChjb25zdCBidG4gb2YgcmV0dXJuVG9HYW1lQnRuKSB7XG5cdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGVudGVyR2FtZSk7XG59XG5mb3IgKGNvbnN0IGJ0biBvZiByZXNldEJ0bikge1xuXHRidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZXNldEdhbWUpO1xufVxuXG5ob2xkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaG9sZEZ1bmN0aW9uKTtcbnJvbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb2xsRGljZSk7XG5wYXVzZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBhdXNlR2FtZUZ1bmN0aW9uKTtcblxuLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcblxuLy8gXHRpZiAod2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDUwMHB4KScpLm1hdGNoZXMpIHtcbi8vIFx0XHRwbGF5Ym9hcmQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4vLyBcdFx0ZGVza3RvcC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbi8vIFx0fSBlbHNlIHtcbi8vIFx0XHRtb2JpbGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4vLyBcdFx0ZGVza3RvcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbi8vIFx0fVxuLy8gfSk7XG4iXX0=
