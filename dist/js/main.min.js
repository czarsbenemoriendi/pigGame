"use strict";function _createForOfIteratorHelper(e,t){var r,n,o,a,c="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(c)return n=!(r=!0),{s:function(){c=c.call(e)},n:function(){var e=c.next();return r=e.done,e},e:function(e){n=!0,o=e},f:function(){try{r||null==c.return||c.return()}finally{if(n)throw o}}};if(Array.isArray(e)||(c=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return c&&(e=c),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var number,sum,_step,playboards={playboard:document.querySelector(".section__playboard"),topPart:document.querySelector(".top"),bottomPart:document.querySelector(".bottom")},btns={pauseBtn:document.querySelector(".pause"),holdBtn:document.querySelector(".hold"),rollBtn:document.querySelector(".roll"),returnToGameBtn:document.querySelectorAll(".return"),resetBtn:document.querySelectorAll(".reset")},numbersVar={topScrP1:document.querySelector(".section__number-info--first"),topScrP2:document.querySelector(".section__number-info--second"),curScrP1:document.querySelector(".section__current-points--first"),curScrP2:document.querySelector(".section__current-points--second")},popUps={shadow:document.querySelector(".shadow"),gameRules:document.querySelector(".main__popup--game-rules"),pauseGame:document.querySelector(".main__popup--pausePop"),winPop:document.querySelector(".main__popup--win")},dice=document.querySelectorAll(".dice"),winner=document.querySelector(".main__player"),shadow=popUps.shadow,gameRules=popUps.gameRules,pauseGame=popUps.pauseGame,winPop=popUps.winPop,playboard=playboards.playboard,desktop=playboards.desktop,topPart=playboards.topPart,bottomPart=playboards.bottomPart,pauseBtn=btns.pauseBtn,holdBtn=btns.holdBtn,rollBtn=btns.rollBtn,returnToGameBtn=btns.returnToGameBtn,resetBtn=btns.resetBtn,topScrP1=numbersVar.topScrP1,topScrP2=numbersVar.topScrP2,curScrP1=numbersVar.curScrP1,curScrP2=numbersVar.curScrP2,arr=[],finalScore=100,enterGame=function(){shadow.classList.add("hidden"),gameRules.classList.add("hidden"),pauseGame.classList.add("hidden"),topPart.classList.add("current-player"),winPop.classList.add("hidden"),bottomPart.classList.remove("current-player")},pauseGameFunction=function(){shadow.classList.remove("hidden"),pauseGame.classList.remove("hidden")},showWinPop=function(){shadow.classList.remove("hidden"),winPop.classList.remove("hidden")},resetGame=function(){topScrP1.textContent=0,topScrP2.textContent=0,curScrP1.textContent=0,curScrP2.textContent=0,arr=[],addHiddenDice(),enterGame()},changePlayer=function(){arr=[],topPart.classList.toggle("current-player"),bottomPart.classList.toggle("current-player")},randomNumber=function(){return number=Math.trunc(6*Math.random()+1)},holdFunction=function(){addHiddenDice();function e(e,t){e.textContent=Number(t.textContent)+Number(e.textContent),t.textContent=0,Number(e.textContent)>=finalScore&&(showWinPop(),winner.textContent="First ")}topPart.classList.contains("current-player")?e(topScrP1,curScrP1):e(topScrP2,curScrP2),changePlayer()},addHiddenDice=function(){dice.forEach(function(e){e.classList.add("hidden")})},appropriateDice=function(){function e(e){dice.forEach(function(e){e.classList.add("hidden")}),e.classList.remove("hidden")}switch(1===number||2===number||3===number||4===number||5===number||6===number){case 1===number:e(dice[0]);break;case 2===number:e(dice[1]);break;case 3===number:e(dice[2]);break;case 4===number:e(dice[3]);break;case 5===number:e(dice[4]);break;case 6===number:e(dice[5])}},rollDice=function(){randomNumber(),appropriateDice();function e(e){arr.push(number),sum=arr.reduce(function(e,t){return e+t},0),e.textContent=sum}function t(e){arr=[],e.textContent=0,setTimeout(function(){dice[0].classList.add("hidden")},500),changePlayer()}topPart.classList.contains("current-player")?(2<=number?e:t)(curScrP1):(2<=number?e:t)(curScrP2)},_iterator=_createForOfIteratorHelper(returnToGameBtn);try{for(_iterator.s();!(_step=_iterator.n()).done;){var btn=_step.value;btn.addEventListener("click",enterGame)}}catch(e){_iterator.e(e)}finally{_iterator.f()}var _step2,_iterator2=_createForOfIteratorHelper(resetBtn);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _btn=_step2.value;_btn.addEventListener("click",resetGame)}}catch(e){_iterator2.e(e)}finally{_iterator2.f()}holdBtn.addEventListener("click",holdFunction),rollBtn.addEventListener("click",rollDice),pauseBtn.addEventListener("click",pauseGameFunction);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsic2hhZG93Iiwic3VtIiwicGxheWJvYXJkcyIsInBsYXlib2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRvcFBhcnQiLCJib3R0b21QYXJ0IiwiYnRucyIsInBhdXNlQnRuIiwiaG9sZEJ0biIsInJvbGxCdG4iLCJyZXR1cm5Ub0dhbWVCdG4iLCJyZXNldEJ0biIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0b3BTY3JQMSIsInRvcFNjclAyIiwiY3VyU2NyUDEiLCJjdXJTY3JQMiIsIm51bWJlcnNWYXIiLCJnYW1lUnVsZXMiLCJwYXVzZUdhbWUiLCJ3aW5Qb3AiLCJwb3BVcHMiLCJ3aW5uZXIiLCJjbGFzc0xpc3QiLCJkZXNrdG9wIiwiYXJyIiwibnVtYmVyIiwicmVtb3ZlIiwiZmluYWxTY29yZSIsImFkZCIsImFkZEhpZGRlbkRpY2UiLCJlbnRlckdhbWUiLCJ0b2dnbGUiLCJzaG93V2luUG9wIiwicmFuZG9tTnVtYmVyIiwiTWF0aCIsInRydW5jIiwicmFuZG9tIiwidGV4dENvbnRlbnQiLCJ0b3BTY3IiLCJjdXJTY3IiLCJOdW1iZXIiLCJjaGFuZ2VQbGF5ZXIiLCJjb250YWlucyIsImNhbGN1bGF0ZVRvcFNjciIsImRpY2UiLCJlbCIsImFwcHJvcHJpYXRlRGljZSIsImVsZW1lbnQiLCJyb2xsRGljZSIsImNhbGN1bGF0ZVNjciIsInJlZHVjZSIsImEiLCJiIiwiZHJhd25PbmUiLCJzZXRUaW1lb3V0IiwiX2l0ZXJhdG9yIiwicyIsIl9zdGVwIiwibiIsImRvbmUiLCJidG4iLCJ2YWx1ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaXRlcmF0b3IyIiwiX3N0ZXAyIiwicmVzZXRHYW1lIiwiaG9sZEZ1bmN0aW9uIiwicGF1c2VHYW1lRnVuY3Rpb24iXSwibWFwcGluZ3MiOiJBQUFBLGEsdW5DQUVBLElBMEJRQSxPQUFSQyxJLE1BMUJNQyxXQUFhLENBQ2xCQyxVQUFXQyxTQUFTQyxjQUFjLHFCQUF2QixFQUNY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QWQsR0EvQkZmLElBQUEsR0FQRGUsRUFBQUYsWUFBQSxFQXVERWlCLFdBQVcsV0FiYlYsS0FBTUksR0FBQUEsVUFBV3BCLElBQVhvQixRQUFOLENBQ0NmLEVBQUFBLEdBWVcsRUFYWGEsYUFBQUEsQ0FlQyxDQVpBdEIsUUFBU0MsVUFBVGlCLFNBQUEsZ0JBQUFsQixHQUNVMEIsR0FBVnBELE9BZUNtRCxFQUVBSSxHQWpCMkJ2QyxRQUFBLEdBSWYsR0FBUnVDLE9BaUJKSixFQUVBSSxHQWxCRHRDLFFBQUEsQ0FxQkQsRSxxQ0FFaUJOLGUsTUFBbEIsSUFBQThDLFVBQUFDLEVBQUEsRUFBQSxFQUFBQyxNQUFBRixVQUFBRyxFQUFBLEdBQUFDLE1BQW1DLENBQUEsSUFBeEJDLElBQXdCSCxNQUFBSSxNQUNsQ0QsSUFoQkFFLGlCQUFZeEMsUUFBVW9CLFNBZ0J0QixDQUNBLEMsZ0dBZmNoQyxRLE1BZ0JmLElBQUFxRCxXQUFBUCxFQUFBLEVBQUEsRUFBQVEsT0FBQUQsV0FBQUwsRUFBQSxHQUFBQyxNQWhCRyxDQUFBLElBQUFWLEtBQUFlLE9BQUFILE1BaUJGRCxLQWxCQ0UsaUJBRU8sUUFBQUcsU0FnQlIsQ0FDQSxDLGlEQUVEMUQsUUF0QkN1RCxpQkFNTyxRQUFBSSxZQWdCUixFQUNBMUQsUUFoQk1pQixpQkFBYSxRQUFBdUIsUUFnQm5CLEVBQ0ExQyxTQWhCRzJDLGlCQUFhbEMsUUFBYm9ELGlCQWdCSCIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcGxheWJvYXJkcyA9IHtcblx0cGxheWJvYXJkOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbl9fcGxheWJvYXJkJyksXG5cdHRvcFBhcnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3AnKSxcblx0Ym90dG9tUGFydDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvdHRvbScpLFxufTtcbmNvbnN0IGJ0bnMgPSB7XG5cdHBhdXNlQnRuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGF1c2UnKSxcblx0aG9sZEJ0bjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhvbGQnKSxcblx0cm9sbEJ0bjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJvbGwnKSxcblx0cmV0dXJuVG9HYW1lQnRuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmV0dXJuJyksXG5cdHJlc2V0QnRuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmVzZXQnKSxcbn07XG5jb25zdCBudW1iZXJzVmFyID0ge1xuXHR0b3BTY3JQMTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb25fX251bWJlci1pbmZvLS1maXJzdCcpLFxuXHR0b3BTY3JQMjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlY3Rpb25fX251bWJlci1pbmZvLS1zZWNvbmQnKSxcblx0Y3VyU2NyUDE6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uX19jdXJyZW50LXBvaW50cy0tZmlyc3QnKSxcblx0Y3VyU2NyUDI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uX19jdXJyZW50LXBvaW50cy0tc2Vjb25kJyksXG59O1xuY29uc3QgcG9wVXBzID0ge1xuXHRzaGFkb3c6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaGFkb3cnKSxcblx0Z2FtZVJ1bGVzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbl9fcG9wdXAtLWdhbWUtcnVsZXMnKSxcblx0cGF1c2VHYW1lOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbl9fcG9wdXAtLXBhdXNlUG9wJyksXG5cdHdpblBvcDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW5fX3BvcHVwLS13aW4nKSxcbn07XG5jb25zdCBkaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpY2UnKTtcbmNvbnN0IHdpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluX19wbGF5ZXInKTtcbmNvbnN0IHsgc2hhZG93LCBnYW1lUnVsZXMsIHBhdXNlR2FtZSwgd2luUG9wIH0gPSBwb3BVcHM7XG5jb25zdCB7IHBsYXlib2FyZCwgZGVza3RvcCwgdG9wUGFydCwgYm90dG9tUGFydCB9ID0gcGxheWJvYXJkcztcbmNvbnN0IHsgcGF1c2VCdG4sIGhvbGRCdG4sIHJvbGxCdG4sIHJldHVyblRvR2FtZUJ0biwgcmVzZXRCdG4gfSA9IGJ0bnM7XG5jb25zdCB7IHRvcFNjclAxLCB0b3BTY3JQMiwgY3VyU2NyUDEsIGN1clNjclAyIH0gPSBudW1iZXJzVmFyO1xuXG5sZXQgYXJyID0gW107XG5sZXQgbnVtYmVyLCBzdW07XG5sZXQgZmluYWxTY29yZSA9IDEwMDtcblxuY29uc3QgZW50ZXJHYW1lID0gKCkgPT4ge1xuXHRzaGFkb3cuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cdGdhbWVSdWxlcy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblx0cGF1c2VHYW1lLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuXHR0b3BQYXJ0LmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQtcGxheWVyJyk7XG5cdHdpblBvcC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblx0Ym90dG9tUGFydC5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50LXBsYXllcicpO1xufTtcblxuY29uc3QgcGF1c2VHYW1lRnVuY3Rpb24gPSAoKSA9PiB7XG5cdHNoYWRvdy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcblx0cGF1c2VHYW1lLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xufTtcblxuY29uc3Qgc2hvd1dpblBvcCA9ICgpID0+IHtcblx0c2hhZG93LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuXHR3aW5Qb3AuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG59O1xuXG5jb25zdCByZXNldEdhbWUgPSAoKSA9PiB7XG5cdHRvcFNjclAxLnRleHRDb250ZW50ID0gMDtcblx0dG9wU2NyUDIudGV4dENvbnRlbnQgPSAwO1xuXHRjdXJTY3JQMS50ZXh0Q29udGVudCA9IDA7XG5cdGN1clNjclAyLnRleHRDb250ZW50ID0gMDtcblx0YXJyID0gW107XG5cdGFkZEhpZGRlbkRpY2UoKTtcblx0ZW50ZXJHYW1lKCk7XG59O1xuXG5jb25zdCBjaGFuZ2VQbGF5ZXIgPSAoKSA9PiB7XG5cdGFyciA9IFtdO1xuXHR0b3BQYXJ0LmNsYXNzTGlzdC50b2dnbGUoJ2N1cnJlbnQtcGxheWVyJyk7XG5cdGJvdHRvbVBhcnQuY2xhc3NMaXN0LnRvZ2dsZSgnY3VycmVudC1wbGF5ZXInKTtcbn07XG5cbmNvbnN0IHJhbmRvbU51bWJlciA9ICgpID0+IHtcblx0cmV0dXJuIChudW1iZXIgPSBNYXRoLnRydW5jKE1hdGgucmFuZG9tKCkgKiA2ICsgMSkpO1xufTtcblxuY29uc3QgaG9sZEZ1bmN0aW9uID0gKCkgPT4ge1xuXHRhZGRIaWRkZW5EaWNlKCk7XG5cdGNvbnN0IGNhbGN1bGF0ZVRvcFNjciA9ICh0b3BTY3IsIGN1clNjcikgPT4ge1xuXHRcdHRvcFNjci50ZXh0Q29udGVudCA9XG5cdFx0XHROdW1iZXIoY3VyU2NyLnRleHRDb250ZW50KSArIE51bWJlcih0b3BTY3IudGV4dENvbnRlbnQpO1xuXHRcdGN1clNjci50ZXh0Q29udGVudCA9IDA7XG5cdFx0aWYgKE51bWJlcih0b3BTY3IudGV4dENvbnRlbnQpID49IGZpbmFsU2NvcmUpIHtcblx0XHRcdHNob3dXaW5Qb3AoKTtcblx0XHRcdHdpbm5lci50ZXh0Q29udGVudCA9ICdGaXJzdCAnO1xuXHRcdH1cblx0fTtcblxuXHRpZiAodG9wUGFydC5jbGFzc0xpc3QuY29udGFpbnMoJ2N1cnJlbnQtcGxheWVyJykpIHtcblx0XHRjYWxjdWxhdGVUb3BTY3IodG9wU2NyUDEsIGN1clNjclAxKTtcblx0fSBlbHNlIHtcblx0XHRjYWxjdWxhdGVUb3BTY3IodG9wU2NyUDIsIGN1clNjclAyKTtcblx0fVxuXHRjaGFuZ2VQbGF5ZXIoKTtcbn07XG5cbmNvbnN0IGFkZEhpZGRlbkRpY2UgPSAoKSA9PiB7XG5cdGRpY2UuZm9yRWFjaChlbCA9PiB7XG5cdFx0ZWwuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cdH0pO1xufTtcbmNvbnN0IGFwcHJvcHJpYXRlRGljZSA9ICgpID0+IHtcblx0Y29uc3QgYWRkSGlkZGVuRGljZSA9IGVsZW1lbnQgPT4ge1xuXHRcdGRpY2UuZm9yRWFjaChlbCA9PiB7XG5cdFx0XHRlbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblx0XHR9KTtcblx0XHRlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuXHR9O1xuXHRzd2l0Y2ggKFxuXHRcdG51bWJlciA9PT0gMSB8fFxuXHRcdG51bWJlciA9PT0gMiB8fFxuXHRcdG51bWJlciA9PT0gMyB8fFxuXHRcdG51bWJlciA9PT0gNCB8fFxuXHRcdG51bWJlciA9PT0gNSB8fFxuXHRcdG51bWJlciA9PT0gNlxuXHQpIHtcblx0XHRjYXNlIG51bWJlciA9PT0gMTpcblx0XHRcdGFkZEhpZGRlbkRpY2UoZGljZVswXSk7XG5cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgbnVtYmVyID09PSAyOlxuXHRcdFx0YWRkSGlkZGVuRGljZShkaWNlWzFdKTtcblxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBudW1iZXIgPT09IDM6XG5cdFx0XHRhZGRIaWRkZW5EaWNlKGRpY2VbMl0pO1xuXG5cdFx0XHRicmVhaztcblx0XHRjYXNlIG51bWJlciA9PT0gNDpcblx0XHRcdGFkZEhpZGRlbkRpY2UoZGljZVszXSk7XG5cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgbnVtYmVyID09PSA1OlxuXHRcdFx0YWRkSGlkZGVuRGljZShkaWNlWzRdKTtcblxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBudW1iZXIgPT09IDY6XG5cdFx0XHRhZGRIaWRkZW5EaWNlKGRpY2VbNV0pO1xuXG5cdFx0XHRicmVhaztcblx0fVxufTtcblxuY29uc3Qgcm9sbERpY2UgPSAoKSA9PiB7XG5cdHJhbmRvbU51bWJlcigpO1xuXHRhcHByb3ByaWF0ZURpY2UoKTtcblxuXHRjb25zdCBjYWxjdWxhdGVTY3IgPSBjdXJTY3IgPT4ge1xuXHRcdGFyci5wdXNoKG51bWJlcik7XG5cdFx0c3VtID0gYXJyLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApO1xuXHRcdGN1clNjci50ZXh0Q29udGVudCA9IHN1bTtcblx0fTtcblxuXHRjb25zdCBkcmF3bk9uZSA9IGN1clNjciA9PiB7XG5cdFx0YXJyID0gW107XG5cdFx0Y3VyU2NyLnRleHRDb250ZW50ID0gMDtcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdGRpY2VbMF0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG5cdFx0fSwgNTAwKTtcblx0XHRjaGFuZ2VQbGF5ZXIoKTtcblx0fTtcblxuXHRpZiAodG9wUGFydC5jbGFzc0xpc3QuY29udGFpbnMoJ2N1cnJlbnQtcGxheWVyJykpIHtcblx0XHRpZiAobnVtYmVyID49IDIpIHtcblx0XHRcdGNhbGN1bGF0ZVNjcihjdXJTY3JQMSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRyYXduT25lKGN1clNjclAxKTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0aWYgKG51bWJlciA+PSAyKSB7XG5cdFx0XHRjYWxjdWxhdGVTY3IoY3VyU2NyUDIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkcmF3bk9uZShjdXJTY3JQMik7XG5cdFx0fVxuXHR9XG59O1xuXG5mb3IgKGNvbnN0IGJ0biBvZiByZXR1cm5Ub0dhbWVCdG4pIHtcblx0YnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZW50ZXJHYW1lKTtcbn1cbmZvciAoY29uc3QgYnRuIG9mIHJlc2V0QnRuKSB7XG5cdGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlc2V0R2FtZSk7XG59XG5cbmhvbGRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBob2xkRnVuY3Rpb24pO1xucm9sbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJvbGxEaWNlKTtcbnBhdXNlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGF1c2VHYW1lRnVuY3Rpb24pO1xuIl19
